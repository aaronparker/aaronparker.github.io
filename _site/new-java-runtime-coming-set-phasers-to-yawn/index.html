<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>New Java Runtime Coming. Set Phasers To Yawn | stealthpuppy</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="New Java Runtime Coming. Set Phasers To Yawn" />
<meta name="author" content="Aaron Parker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="for release later this year and there’s a couple of changes to this version that have some bearing on deployment. I can’t imagine there is an enterprise out there that doesn’t have to deal with Java applications." />
<meta property="og:description" content="for release later this year and there’s a couple of changes to this version that have some bearing on deployment. I can’t imagine there is an enterprise out there that doesn’t have to deal with Java applications." />
<link rel="canonical" href="/new-java-runtime-coming-set-phasers-to-yawn/" />
<meta property="og:url" content="/new-java-runtime-coming-set-phasers-to-yawn/" />
<meta property="og:site_name" content="stealthpuppy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2008-02-27T17:00:04+11:00" />
<script type="application/ld+json">
{"description":"for release later this year and there’s a couple of changes to this version that have some bearing on deployment. I can’t imagine there is an enterprise out there that doesn’t have to deal with Java applications.","author":{"@type":"Person","name":"Aaron Parker"},"@type":"BlogPosting","url":"/new-java-runtime-coming-set-phasers-to-yawn/","headline":"New Java Runtime Coming. Set Phasers To Yawn","dateModified":"2008-02-27T17:00:04+11:00","datePublished":"2008-02-27T17:00:04+11:00","mainEntityOfPage":{"@type":"WebPage","@id":"/new-java-runtime-coming-set-phasers-to-yawn/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="stealthpuppy" /></head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">stealthpuppy</a></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">New Java Runtime Coming. Set Phasers To Yawn</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2008-02-27T17:00:04+11:00" itemprop="datePublished">Feb 27, 2008
      </time><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card"
          itemprop="name">Aaron Parker</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>for release later this year and there’s a couple of changes to this version that have some bearing on deployment. I can’t imagine there is an enterprise out there that doesn’t have to deal with Java applications.</p>

<p>The biggest change is that from this new version onwards, the point releases (read: updates, like 1.6.0_3, 1.6.0_2 etc) will be a thing of the past. New updates will be installed on top of existing installed versions, so you will only see a single version installed to: <code class="highlighter-rouge">C:\Program Files\Java\jre6</code>. New releases would then be installed to <code class="highlighter-rouge">C:\Program Files\Java\jre7</code> etc. This is good news as we should no longer have applications that expect a specific point release of the JRE.</p>

<p>Here’s what Sun has to say about the new update process:</p>

<blockquote>
  <p>For current users of Java SE, the JRE update mechanism has also been improved, using a patch-in-place mechanism that translates in a faster and more reliable update process (the patch in place mechanism will take effect for end users who upgrade from this update release or later to a new update release). As an added benefit, follow-on update releases will no longer be listed as separate items in the Windows “Add or Remove Programs” dialog.</p>
</blockquote>

<p>Sounds good to me, so far so good. But there’s a new feature that’s got me asking Why?, it’s the Java Quick Starter service.</p>

<p><img src=".com/media/2008/02/javaquickstarter.png" alt="JavaQuickStarter" /></p>

<p>This is installed on Windows XP and even though there are <a href="http://forums.java.net/jive/thread.jspa?threadID=31508&amp;tstart=15">indications that the service should not be installed</a> on Windows Vista, it was during my testing. However, this is still beta code. This is Sun’s description of the Java Quick Starter service:</p>

<blockquote>
  <p>The Quick Starter feature will prefetch portions of the JRE into memory, substantially decreasing the average JRE cold start-up time (the time that it takes to launch a Java application for the first time after a fresh reboot of a PC).</p>
</blockquote>

<p>Great, now we’re lumped with yet another application with a quick launch process. To me bundling a quick launch executable that continually runs in the background, is a sign that your application is bloated. If you believe the hype though, your applications run faster with Java. Faster than what? Certaintly not native applications.</p>

<p><img src="&quot;.com/media/2008/02/fasterwithjava.png" alt="fasterwithjava" /></p>

<p>Amazingly this service runs as Local System. That’s just asking for trouble, wouldn’t <a href="http://www.microsoft.com/technet/security/guidance/serversecurity/serviceaccount/sspgch02.mspx#EBH">Local Service be a better option</a>? If you want to continue running the Quick Starter service, keep an eye on any security bulletins for the JRE. Owning the service will give you full access to the users machine.</p>

<h3 id="silent-install">Silent Install</h3>

<p>Scripting the installation of the runtime is very simple. It uses the same Windows Installer based setup as previous versions, so you can pass properties to it on the command line.</p>

<p>In testing the JAVAUPDATE property is actually ignored as it is with previous versions, so you will need to add some registry entries to disable the auto-update component. Additionally, I could find no property in the MSI that will prevent the installation of the Java Quick Starter services, it must be removed after installation.</p>

<p>This script will install the Sun JRE, remove the Java Quick Starter service and disable the automatic updater. You could improve on this script by creating your own transform file to set the custom properties and actions instead.</p>

<pre><code class="language-cmd">@ECHO OFF  
ECHO Sun J2SE Runtime Environment 6 Update N..  
START /WAIT jre-6u10-windows-i586-p-s.exe /passive /norestart ADDLOCAL=jrecore JAVAUPDATE=0 JU=0 AUTOUPDATECHECK=0 SYSTRAY=0 IEXPLORER=1 MOZILLA=1 REBOOT=ReallySuppress  
"%ProgramFiles%\Java\jre6\bin\jqs.exe" -unregister  
REG ADD "HKLM\SOFTWARE\JavaSoft\Java Update\Policy" /v EnableJavaUpdate /t REG_DWORD /d 0 /f  
REG ADD "HKLM\SOFTWARE\JavaSoft\Java Update\Policy" /v EnableAutoUpdateCheck /t REG_DWORD /d 0 /f  
REG ADD "HKLM\SOFTWARE\JavaSoft\Java Update\Policy" /v NotifyDownload /t REG_DWORD /d 0 /f  
REG ADD "HKLM\SOFTWARE\JavaSoft\Java Update\Policy" /v NotifyInstall /t REG_DWORD /d 0 /f
</code></pre>

<p class="important">
  The information in this article is based on beta code. Hopefully it also applies to the final code when released but who can tell the future? If I could I certaintly wouldn't be writing about Java.
</p>

  </div><a class="u-url" href="/new-java-runtime-coming-set-phasers-to-yawn/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col one-half">
      <h2 class="footer-heading">stealthpuppy</h2>
        <ul class="contact-list">
          <li class="p-name">stealthpuppy</li><li><a class="u-email" href="mailto:aaron@stealthpuppy.com">aaron@stealthpuppy.com</a></li></ul>
      </div>

      <div class="footer-col one-half">
        <p>on end user computing and enterprise mobility</p>
      </div>

      <div class="social-links"><ul class="social-media-list"><li><a href="https://github.com/aaronparker" title="aaronparker"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a href="https://www.linkedin.com/in/aaronedwardparker" title="aaronedwardparker"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg></a></li><li><a href="https://twitter.com/stealthpuppy" title="stealthpuppy"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li><li><a href="/feed.xml" title="atom"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg></a></li></ul>
</div>
    </div>

  </div>

</footer>
</body>

</html>
