<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>App-V FAQ: How do I get an application into the App-V bubble for troubleshooting? | stealthpuppy</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="App-V FAQ: How do I get an application into the App-V bubble for troubleshooting?" />
<meta name="author" content="Aaron Parker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="There are instances in which you will need to troubleshoot applications running in the App-V bubble (or the virtualised environment). Although applications delivered by App-V are running locally, they are separated from other applications and the operating system by the App-V client (the feature known as the SystemGuard, although usually referred to as the bubble)." />
<meta property="og:description" content="There are instances in which you will need to troubleshoot applications running in the App-V bubble (or the virtualised environment). Although applications delivered by App-V are running locally, they are separated from other applications and the operating system by the App-V client (the feature known as the SystemGuard, although usually referred to as the bubble)." />
<link rel="canonical" href="/app-v-faq-27-how-do-i-get-an-application-into-the-app-v-bubble-for-troubleshooting/" />
<meta property="og:url" content="/app-v-faq-27-how-do-i-get-an-application-into-the-app-v-bubble-for-troubleshooting/" />
<meta property="og:site_name" content="stealthpuppy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-09-09T11:00:00+10:00" />
<script type="application/ld+json">
{"description":"There are instances in which you will need to troubleshoot applications running in the App-V bubble (or the virtualised environment). Although applications delivered by App-V are running locally, they are separated from other applications and the operating system by the App-V client (the feature known as the SystemGuard, although usually referred to as the bubble).","author":{"@type":"Person","name":"Aaron Parker"},"@type":"BlogPosting","url":"/app-v-faq-27-how-do-i-get-an-application-into-the-app-v-bubble-for-troubleshooting/","headline":"App-V FAQ: How do I get an application into the App-V bubble for troubleshooting?","dateModified":"2010-09-09T11:00:00+10:00","datePublished":"2010-09-09T11:00:00+10:00","mainEntityOfPage":{"@type":"WebPage","@id":"/app-v-faq-27-how-do-i-get-an-application-into-the-app-v-bubble-for-troubleshooting/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="stealthpuppy" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">stealthpuppy</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about.html">ABOUT</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">App-V FAQ: How do I get an application into the App-V bubble for troubleshooting?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-09-09T11:00:00+10:00" itemprop="datePublished">Sep 9, 2010
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Aaron Parker</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img style="margin: 0px 0px 5px 10px; display: inline;" src="https://stealthpuppy.com/media/2010/06/AppVFAQLogo.png" alt="" align="right" />There are instances in which you will need to troubleshoot applications running in the App-V bubble (or the virtualised environment). Although applications delivered by App-V are running locally, they are separated from other applications and the operating system by the App-V client (the feature known as the <a href="http://blogs.technet.com/b/appv/archive/2007/08/02/inside-the-grid-part-1.aspx">SystemGuard</a>, although usually referred to as the bubble).</p>

<p>This poses some challenges – how do you use troubleshooting tools such as <a href="http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx">Process Monitor</a> if it can’t see the application? To do this you will need to launch a Command Prompt into the bubble.</p>

<h3 id="the-old-way--editing-osd-files">The Old Way – editing OSD files</h3>

<p>The old method of launching an external application into the bubble was to edit an OSD file and add  <a href="http://support.microsoft.com/kb/939085">SCRIPT</a> entry. In this example, CMD.EXE will be launched before the application (TIMING=”PRE”) and inside the bubble (PROTECT=”TRUE”).</p>

<p>[code]<script event="LAUNCH" timing="PRE" protect="TRUE" wait="TRUE" timeout=""></script></p>
<HREF>cmd.exe</HREF>
<p>&lt;/SCRIPT&gt;[/code]</p>

<p>On starting the application shortcut, Command Prompt will open – once you exit Command Prompt the application will then start.</p>

<p>As you can probably see, there’s an issue with this – you need to edit the OSD files. That’s not something you want to do in a production environment.</p>

<h3 id="a-better-way--use-sfttray-instead">A Better Way – Use SFTTRAY instead</h3>

<p>App-V 4.5 introduced the /LAUNCH switch to the SFTTRAY.EXE command. This allows you to specify an alternate executable name as the primary application when launching an App-V package. To use this you first need to find the application name and version from your App-V package (although you may already know this from the application shortcut properties). To view the application names run:</p>

<p>[code]SFTMIME QUERY OBJ:APP /SHORT[/code]</p>

<p>This will return the list of applications for the current user context (or all of the applications if you run the command as an administrator). Don’t forget the /SHORT switch otherwise you’ll get a lot more information that you need. Use SFTTRAY /? to see the complete list of switches.</p>

<p><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="CommandPrompt-LaunchAppV" src="https://stealthpuppy.com/media/2010/09/CommandPromptLaunchAppV_thumb.png" border="0" alt="SFTMIME and SFTTRAY commands to launch an alternate process" width="660" height="263" /></p>

<p>To launch an alternate executable, copy the application name as listed and use the SFTTRAY command like this:</p>

<p>[code]SFTTRAY /EXE cmd.exe /LAUNCH “WinMerge 00000010”[/code]</p>

<p>This will launch the App-V package with Command Prompt as the primary executable instead of the executable listed in the OSD file. After you exit Command Prompt the application won’t then be launched as would happen with the OSD method. Additionally, you can do this in production without affecting applications for other users.</p>

<h3 id="bonus-methods">Bonus Methods</h3>

<p>A couple of the <a href="/virtualisation/app-v-faq-26-what-3rd-party-tools-are-there-for-managing-app-v">3rd party tools</a> such as the <a href="http://www.loginconsultants.com/index.php?option=com_docman&amp;task=doc_details&amp;gid=69&amp;Itemid=149">App-V Client Diagnostic and Configuration tool (ACDC) 1.1</a> from Login Consultants or <a href="http://www.jagtechnical.com/softbar/">SoftBar</a> by Greg Brownstein provide a simpler way to get an application into the bubble via a GUI.</p>

<p>ACDC is my preferred troubleshooting tool, which gives you a plethora of options for managing applications with the ability to launch a tool in the bubble of a specific application:</p>

<p><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="ACDC-RunCommandPrompt" src="https://stealthpuppy.com/media/2010/09/ACDCRunCommandPrompt_thumb.png" border="0" alt="ACDC-RunCommandPrompt" width="660" height="393" /></p>

<p>And here’s SoftBar in action, which can do the same type of thing:</p>

<p><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="va_menu" src="https://stealthpuppy.com/media/2010/09/va_menu.jpg" border="0" alt="va_menu" width="631" height="263" /></p>

<p>Both tools allow you to extend the launch menu with additional executables.</p>

<h3 id="resources">Resources</h3>

<ul>
  <li><a href="http://blogs.technet.com/b/appv/archive/2008/09/25/app-v-new-command-line-for-running-cmd-prompts-inside-the-bubble.aspx">App-V: New command line for running CMD prompts inside the bubble</a></li>
  <li><a href="http://support.microsoft.com/kb/939085">How to run scripts in an .osd file in Microsoft SoftGrid</a></li>
  <li><a href="http://blogs.technet.com/b/appv/archive/2007/10/11/scripting-within-an-osd-file.aspx">Scripting within an OSD file</a></li>
</ul>

  </div><a class="u-url" href="/app-v-faq-27-how-do-i-get-an-application-into-the-app-v-bubble-for-troubleshooting/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">stealthpuppy</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">{&quot;name&quot;=&gt;&quot;Some Person&quot;}</li><li><a class="u-email" href="mailto:aaron@stealthpuppy.com">aaron@stealthpuppy.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/aaronparker"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">aaronparker</span></a></li><li><a href="https://www.twitter.com/stealthpuppy"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">stealthpuppy</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>on end user computing and enterprise mobility</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
