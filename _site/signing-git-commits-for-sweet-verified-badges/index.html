<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>Signing Git Commits for Sweet Verified Badges | stealthpuppy</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Signing Git Commits for Sweet Verified Badges" />
<meta name="author" content="Aaron Parker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Confession time - I’ve had a GitHub account since 2014 and haven’t signed a single commit. I’ve read various tweets and articles about signing your commits, but never committed (git it? … see what I did there…) to setting up a signature until recently." />
<meta property="og:description" content="Confession time - I’ve had a GitHub account since 2014 and haven’t signed a single commit. I’ve read various tweets and articles about signing your commits, but never committed (git it? … see what I did there…) to setting up a signature until recently." />
<link rel="canonical" href="/signing-git-commits-for-sweet-verified-badges/" />
<meta property="og:url" content="/signing-git-commits-for-sweet-verified-badges/" />
<meta property="og:site_name" content="stealthpuppy" />
<meta property="og:image" content="/media/2019/03/helloquence-51716-unsplash.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-19T01:02:21+11:00" />
<script type="application/ld+json">
{"description":"Confession time - I’ve had a GitHub account since 2014 and haven’t signed a single commit. I’ve read various tweets and articles about signing your commits, but never committed (git it? … see what I did there…) to setting up a signature until recently.","author":{"@type":"Person","name":"Aaron Parker"},"@type":"BlogPosting","url":"/signing-git-commits-for-sweet-verified-badges/","image":"/media/2019/03/helloquence-51716-unsplash.jpg","headline":"Signing Git Commits for Sweet Verified Badges","dateModified":"2019-03-19T01:02:21+11:00","datePublished":"2019-03-19T01:02:21+11:00","mainEntityOfPage":{"@type":"WebPage","@id":"/signing-git-commits-for-sweet-verified-badges/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="stealthpuppy" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">stealthpuppy</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about.html">ABOUT</a><a class="page-link" href="/smb-not-cifs.html">SMB not CIFS</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Signing Git Commits for Sweet Verified Badges</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-03-19T01:02:21+11:00" itemprop="datePublished">Mar 19, 2019
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Aaron Parker</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Confession time - I’ve had a <a href="https://github.com/aaronparker?tab=repositories">GitHub account</a> since 2014 and haven’t signed a single commit. I’ve read various tweets and articles about signing your commits, but never committed (git it? … see what I did there…) to setting up a signature until recently.</p>

<p>I’m not a developer, <a href="https://stealthpuppy.com/tag/powershell/">I just write a bunch of scripts</a>, but I like the idea of signing my commits so that others can see that all changes to my code are verified. There’s plenty of articles on why signing your commits is a good idea. Here’s a couple:</p>

<ul>
  <li><a href="https://mikegerwitz.com/2012/05/a-git-horror-story-repository-integrity-with-signed-commits">A Git Horror Story: Repository Integrity With Signed Commits</a></li>
  <li><a href="https://github.blog/2016-04-05-gpg-signature-verification/">GPG signature verification</a></li>
</ul>

<p>If you’ve ever edited a file directly on github.com and committed the changes, you would surely have noticed those Verified badges:</p>

<p><img src="https://stealthpuppy.com/media/2019/03/GitHubCommit.png" alt="Signing Git Commits" /><em>Verified signature through a GitHib.com commit</em></p>

<p>To be honest, the GitHub documentation on <a href="https://help.github.com/en/articles/managing-commit-signature-verification">managing commit signature verification</a> is pretty good, but here’s how I stumbled my way through setting up a signature to <a href="https://help.github.com/en/articles/managing-commit-signature-verification">enable signed commits</a>.</p>

<h2 id="setup-gpg">Setup GPG</h2>

<p>I write PowerShell scripts and modules primarily on macOS, so I’ve installed <a href="https://gpgtools.org/">GPG Suite</a> to create and manage keys. <a href="https://help.github.com/en/articles/generating-a-new-gpg-key">Creating keys can be achieved on the command line</a>, but the GPG Keychain makes managing keys simple.</p>

<ol>
  <li>Create a new key pair using the same email address used when committing code to your git repository and also used to sign into GitHub</li>
  <li>Ensure you use a strong password to protect the key. I manage passwords in 1Password making it simple to create and store keys. It’s a 39 random character string which means relying on copy and paste of course</li>
  <li>I’ve also exported my public and private key to store in my 1Password vault as backup and a way to copy the key into a Windows VM</li>
  <li>Finally I’ve uploaded my public key to the key server with the ‘Send Public Key to the Key Server’ option. Some <a href="https://sks-keyservers.net/overview-of-pools.php">GPG nerd would know what exactly that does</a>, but I don’t believe it actually required for signing commits and pushing to GitHub, because we need to update the public key to GtiHub anyway.</li>
</ol>

<p><img src="https://stealthpuppy.com/media/2019/03/GPG-Key.png" alt="GPG key view in the GPG Keychain and Signing Git Commits" /><em>GPG key view in the GPG Keychain</em></p>

<h2 id="add-your-public-key-to-github">Add Your Public Key to GitHub</h2>

<p><a href="https://help.github.com/en/articles/adding-a-new-gpg-key-to-your-github-account">Adding your public key to your GitHub account</a> is easy:</p>

<ol>
  <li>Right-click your key and choose Copy</li>
  <li>Open your GitHub settings, choose <strong>SSH and GPG keys</strong> and click <strong><a href="https://github.com/settings/gpg/new">New GPG Key</a></strong></li>
  <li>Paste in the key and click <strong>Add GPG Key</strong></li>
</ol>

<p><img src="https://stealthpuppy.com/media/2019/03/AddGPGKey.png" alt="Adding your public GPG key to GitHub and Signing Git Commits" /><em>Adding your public GPG key to GitHub</em></p>

<h2 id="add-your-signing-key-to-git">Add Your Signing Key to Git</h2>

<p>To sign your commits, you of course need to <a href="https://help.github.com/en/articles/telling-git-about-your-signing-key">tell git about your GPG key</a>. On macOS that looks like this - in Terminal, list your keys to find the key ID for the key added to your GitHub account:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg <span class="nt">-list-secret-keys</span> <span class="nt">-keyid-format</span> LONG
</code></pre></div></div>

<p>With defaults, the key ID will be on the line that starts with ‘sec’. Copy the key ID and use git to configure the signing key. In my case, it looks like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">-global</span> user.signingkey C55D39F88CE9A2C5
</code></pre></div></div>

<p><img src="https://stealthpuppy.com/media/2019/03/gitconfig.png" alt="Finding your key ID and adding the key to git" /><em>Finding your key ID and adding the key to git</em></p>

<p>On Windows the process for signing git commits is much the same. First install <a href="https://gitforwindows.org/">Git for Windows</a> and use git bash instead of Terminal.</p>

<h2 id="configure-visual-studio-code-and-sign-git-commits">Configure Visual Studio Code and Sign Git Commits</h2>

<p>Finally, we can configure <a href="https://code.visualstudio.com/">Visual Studio Code</a> to sign our git commits. I typically rely on GitHub Desktop to commit and push code; however, it doesn’t support commit signing. While I could use <a href="https://help.github.com/en/articles/signing-commits">the command line to commit changes</a>, I’d prefer manage commits from fewer tools, hence doing that in VSCode instead.</p>

<p>In Preferences, search for ‘git signing’ and select ‘Git: Enable Commit Signing’:</p>

<p><img src="https://stealthpuppy.com/media/2019/03/VSCode-GitSigning.png" alt="Enable Commit Signing in Visual Studio Code preferences and Signing Git Commits" /><em>Enable Commit Signing in Visual Studio Code preferences</em></p>

<p><a href="https://code.visualstudio.com/docs/introvideos/versioncontrol">VSCode supports version control using git</a> from directly within the VSCode window. On your first commit, you’ll be prompted to enter the password for your GPG key before the commit will complete.</p>

<p>That’s about all the steps required for signing git commits. We have signed commits in a GitHub repository and a sweet, sweet Verified badge - now I can brag to all my friends and they’ll know that code came from me. My mum still won’t understand what I do for a living, but you can’t get a win every day.</p>

<p><img src="https://stealthpuppy.com/media/2019/03/Verified.gif" alt="Now I have a nice shiny verified badge on my commits" /><em>Now I have a nice shiny verified badge on my commits</em></p>

  </div><a class="u-url" href="/signing-git-commits-for-sweet-verified-badges/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">stealthpuppy</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">stealthpuppy</li><li><a class="u-email" href="mailto:aaron@stealthpuppy.com">aaron@stealthpuppy.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/aaronparker"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">aaronparker</span></a></li><li><a href="https://www.twitter.com/stealthpuppy"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">stealthpuppy</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>on end user computing and enterprise mobility</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
