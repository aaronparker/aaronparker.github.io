<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.0 -->
<title>App-V FAQ: My virtual application won’t start. Where do I start troubleshooting? | stealthpuppy</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="App-V FAQ: My virtual application won’t start. Where do I start troubleshooting?" />
<meta name="author" content="Aaron Parker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="If you have successfully virtualised an application, imported the package into the Management Server but you are having issues publishing the package, streaming the application or getting it to launch, the first place to start is the the App-V client log." />
<meta property="og:description" content="If you have successfully virtualised an application, imported the package into the Management Server but you are having issues publishing the package, streaming the application or getting it to launch, the first place to start is the the App-V client log." />
<link rel="canonical" href="/troubleshoot-with-the-app-v-client-log/" />
<meta property="og:url" content="/troubleshoot-with-the-app-v-client-log/" />
<meta property="og:site_name" content="stealthpuppy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-09-24T12:00:00+10:00" />
<script type="application/ld+json">
{"description":"If you have successfully virtualised an application, imported the package into the Management Server but you are having issues publishing the package, streaming the application or getting it to launch, the first place to start is the the App-V client log.","author":{"@type":"Person","name":"Aaron Parker"},"@type":"BlogPosting","url":"/troubleshoot-with-the-app-v-client-log/","headline":"App-V FAQ: My virtual application won’t start. Where do I start troubleshooting?","dateModified":"2010-09-24T12:00:00+10:00","datePublished":"2010-09-24T12:00:00+10:00","mainEntityOfPage":{"@type":"WebPage","@id":"/troubleshoot-with-the-app-v-client-log/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="stealthpuppy" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">stealthpuppy</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about.html">ABOUT</a><a class="page-link" href="/smb-not-cifs.html">SMB not CIFS</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">App-V FAQ: My virtual application won&#39;t start. Where do I start troubleshooting?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-09-24T12:00:00+10:00" itemprop="datePublished">Sep 24, 2010
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Aaron Parker</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>If you have successfully virtualised an application, imported the package into the Management Server but you are having issues publishing the package, streaming the application or getting it to launch, the first place to start is the <a href="http://technet.microsoft.com/en-us/library/cc817165.aspx">the App-V client log</a>.</p>

<p>The client log settings are managed in the Application Virtualization Client console (SFTCMC.MSC) – start the console and the logging settings can be viewed on the General tab:</p>

<p><img src="/media/2010/09/ClientProperties.png" alt="Client properties" /></p>

<p>There are actually two places to which the the client will log errors – the Application event log (shown in the image under <em>System Log Level</em>) and the client log file; however the log file is generally the easiest to use when troubleshooting because it’s a flat text file.</p>

<h3 id="using-the-client-log-file">Using the client log file</h3>

<p>The default location for the log file is <em>%ProgramData%\Microsoft\Application Virtualization Client\sftlog.txt</em>. To view the log you can use something as simple as Notepad, but if you want to view it in real time, use SMS Trace (Trace32) from the <a href="http://www.microsoft.com/downloads/en/details.aspx?displaylang=en&amp;FamilyID=5a47b972-95d2-46b1-ab14-5d0cbce54eb8">ConfigMgr 2007 Toolkit</a>.</p>

<p>To get more information out of the client, enable verbose mode, which will enable you to better identify the cause.</p>

<ol>
  <li>Open the client console and view the client properties</li>
  <li>Set the Log Level to <em>Verbose</em></li>
  <li>Click the <em>Reset Log</em> button to start with a clean log file</li>
</ol>

<p>Resetting the log will rename the existing file and start a new one:</p>

<p><img src="/media/2010/09/LogLocation.png" alt="Log location" /></p>

<p><strong>Note</strong>: once you have finished troubleshooting, don’t forget to set the logging level back to <em>Information</em>.</p>

<h3 id="heres-an-example">Here’s an example</h3>

<p>In my test environment, I have a client machine (WIN71) and an App-V Management Server (APPV). I’ve imported a virtualised copy of Adobe Reader and assigned it to a set of users. On the client I have configured APPV as a publishing server; however when refreshing the client no shortcuts for Reader are created.</p>

<p>Viewing the App-V client log, I’ve narrowed down the following lines that show what’s going on during the refresh:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[09/23/2010 22:03:50:885 SWAP WRN\] {tid=B60:usr=aaron}  
Could not load OSD file \\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd

[09/23/2010 22:03:50:900 AMGR INF] {tid=B60:usr=aaron}  
The app manager could not create an application from '\\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd' (rc 0C405564-00000002).
</code></pre></div></div>

<p>If I set the log to verbose and try the refresh action again, I get more detail:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[09/23/2010 22:45:28:684 AMGR VRB\] {tid=B14:usr=woody}CreateApp(osd=\\domain.local\Public\Apps\AdobeReader9\_x86\AdobeReader9.osd, icon=\\domain.local\Public\Apps\AdobeReader9\_x86\AdobeReader9_x86 Icons\AdobeReader9.ico)

[09/23/2010 22:45:28:685 AMGR VRB] {tid=B14:usr=woody}  
Parsing type from url \\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd

[09/23/2010 22:45:28:686 SWAP VRB] {tid=B14:usr=woody}  
Initialize(osd=\\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd, origUrl=NULL)

[09/23/2010 22:45:28:687 OMGR VRB] {tid=B14:usr=woody}  
GetOsdFile(url=\\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd, origUrl=NULL name=NULL, ver=NULL)

[09/23/2010 22:45:28:688 OSDF VRB] {tid=B14:usr=woody}  
SWOsdFile(url=\\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd, origUrl=NULL, name=NULL, ver=NULL)

[09/23/2010 22:45:28:710 OSDF VRB] {tid=B14:usr=woody}  
~SWOsdFile()

[09/23/2010 22:45:28:712 OSDF VRB] {tid=B14:usr=woody}  
~SWOsdFile() complete

[09/23/2010 22:45:28:726 SWAP WRN] {tid=B14:usr=woody}  
Could not load OSD file \\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd

[09/23/2010 22:45:28:727 AMGR INF] {tid=B14:usr=woody}  
The app manager could not create an application from '\\domain.local\Public\Apps\AdobeReader9_x86\AdobeReader9.osd' (rc 0C405564-00000002).
</code></pre></div></div>

<p>If check the actual location of the OSD file, I can see that the package is not in the correct path (its actually located at \domain.local\Public\Apps\Adobe\AdobeReader9_x86):</p>

<p><img src="/media/2010/09/OSDLocation.png" alt="OSD Location" /></p>

<p>To fix this issue, I need to update the application properties in the App-V Management console, I can then refresh the client again and the application will be published correctly.</p>

<h3 id="error-codes">Error Codes</h3>

<p>This was a very simple example and the fix was quite obvious. In all cases though, the client log will include an error code – the same code will often be displayed in a dialog box:</p>

<p><img src="/media/2010/09/ClientError.png" alt="Client error" /></p>

<p>If the problem is not immediately apparent in the log, start looking for a solution by using the error code. Falko Gräfe has an excellent article that explains <a href="http://www.kirx.org/app-v/read/error-codes-en.html">how to interpret these error codes</a>. In most cases, there will be <a href="http://support.microsoft.com/search/default.aspx?query=%22app-v%22+error+code">an associated Microsoft knowledgebase article</a> that should give a solution for the error.</p>

<h3 id="resources">Resources</h3>

<ul>
  <li><a href="http://technet.microsoft.com/en-us/library/cc817103.aspx">Log File for the Application Virtualization Client</a></li>
  <li><a href="http://technet.microsoft.com/en-us/library/cc817165.aspx">How to Configure the Client Log File</a></li>
  <li><a href="http://blogs.technet.com/b/appv/archive/2009/01/26/troubleshooting-app-v-with-log-files.aspx">Troubleshooting App-V with log files</a></li>
  <li><a href="http://support.microsoft.com/kb/939896/">﻿﻿How to use the Process Monitor tool to generate a log file for an application in the App-V virtual environment</a></li>
  <li><a href="http://www.microsoft.com/downloads/en/details.aspx?displaylang=en&amp;FamilyID=5a47b972-95d2-46b1-ab14-5d0cbce54eb8">System Center Configuration Manager 2007 Toolkit V2</a></li>
  <li><a href="http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=72876c60-3a87-4705-b722-f73eb56219bf">Application Virtualization Client Log Parser Utility</a> (and <a href="http://blogs.technet.com/b/appv/archive/2008/11/06/app-v-4-5-resource-kit-application-virtualization-client-log-parser-utility.aspx">how to use it</a>)</li>
  <li><a href="http://download.microsoft.com/download/f/7/8/f784a197-73be-48ff-83da-4102c05a6d44/AppPubandClientInteraction.docx">App-V Application Publishing and Client Interaction</a></li>
  <li><a href="http://www.kirx.org/app-v/read/error-codes-en.html">App-V Client Error Codes</a></li>
  <li><a href="http://support.microsoft.com/search/default.aspx?query=%22app-v%22+error+code">App-V Error Codes search</a> on Microsoft Support</li>
</ul>

  </div><a class="u-url" href="/troubleshoot-with-the-app-v-client-log/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">stealthpuppy</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">stealthpuppy</li><li><a class="u-email" href="mailto:aaron@stealthpuppy.com">aaron@stealthpuppy.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/aaronparker"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">aaronparker</span></a></li><li><a href="https://www.twitter.com/stealthpuppy"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">stealthpuppy</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>on end user computing and enterprise mobility</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
